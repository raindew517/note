<u>这次学习是在腾讯云的</u> centos 7 学生机上学习的

# 如何查看帮助文档

- `man 命令`
- `--help`

Linux 命令太多，根本无法全部记住，常用的还是要掌握的

- 创建文件夹：`mkdir (-p)`
- 创建文件：`touch`
- 切换文件夹：`cd` change directory
- 查看当前路径：`pwd`

`ls`

- ls -lh 带单位显示文件大小
- ls -la 显示所有文件/目录
- ls -lt 按文件的时间降序排序

文件/目录的赋值 cp

移动/重命名 mv

删除 rm

查看命令

- cat
- more
- less
- head [-n 3] 默认是查看前10行，加上 `-n 3` 就是查看前3行
- tail 打印最后10行

## 链接

`ln [-s]` 不加 -s 就是软链接，否则就是硬链接

硬链接有点像是拷贝，软链接的源文件要是被删除就没法使用了

## history

曾经执行的历史命令

`history [n]` 加 n 就是查看最新的 n 条历史，每一条历史记录都有一个编号，只要 `!编号` 就可以再次执行这个编号的命令

## echo

`>` 是覆盖

`>>` 是追加

不过 echo 本身不是去操作这些文件，它只是输出

## 时间命令

date

## tar

- 打包：将 1-n 个文件或者目录变成一个总的文件（tar）
- 压缩：通过一些压缩算法把一个大文件变成小文件（gzip、bzip2）

`tar [主选项+辅选项]`

主选项

- `-c` : create 打包成一个文件m
- `-x` : extract 解压
- `-t` : 查看压缩文件里的所有内容

辅选项

- `-z` : gzip 对应的文件名就会变成 xxx.tar.gz 或者 xxx.tgz
- `-j` : bzip2 => xxx.tar.bz2
- `-v` : 显示操作的过程
- `-C` : 切换到指定目录（软件安装的时候会用到 ~/app）
- `-f` : f 后面跟上文件名

## vim

### 工作模式

一般模式、插入模式、底行模式

### 插入命令

| 命令 | 效果                         |
| ---- | ---------------------------- |
| i    | 在光标前插入                 |
| I    | 在光标当前行开始插入         |
| a    | 在光标后插入                 |
| A    | 在光标当前行末尾插入         |
| o    | 在光标当前行的下一行插入新行 |
| O    | 在光标当前行的上一行插入新行 |

### 定位命令

|   命令    |       效果       |
| :-------: | :--------------: |
|  :set nu  |     显示行号     |
| :set nonu |     取消行号     |
|    gg     |  到文本的第一行  |
|     G     | 到文本的最后一行 |
|    :n     | 到文本的第 n 行  |

### 删除命令

| 命令 |               效果               |
| :--: | :------------------------------: |
|  x   |         删除光标所在字符         |
|  dd  |  删除光标所在行。ndd 删除 n 行   |
|  dG  | 删除光标所在行到末尾行的所有内容 |
|  D   |    删除光标所在行到行尾的内容    |

### 复制粘贴命令

| 命令 |    效果    |
| :--: | :--------: |
|  yy  | 复制当前行 |
|  p   |    粘贴    |

### 替换和取消命令

|   命令   |                效果                 |
| :------: | :---------------------------------: |
|    u     |        undo，取消上一步操作         |
| Ctrl + r |       redo，返回到 undo 之前        |
|    r     |         替换光标所在的字符          |
|    R     | 从光标所在处开始替换，按 Esc 键结束 |

### 退出命令

| 命令 |           效果           |
| :--: | :----------------------: |
|  :q  | 退出vi(没有做任何修改时) |
| :q!  |      强制退出不保存      |
|  :w  |        保存不退出        |
| :wq  |        保存后退出        |

## 安全性模型（权限控制）

Linux操作系统是一个多用户操作系统，它允许多用户同时登录到系统上并使用资源

- Linux：User 和 Group 来控制对资源（文件）的访问
- 使用账号和密码登录
- 每个资源都有 owner（默认、修改）

### 用户

UserId 是唯一标识符

用户信息是存放在一个地方：/etc/passwd

`root:x:0:0:root:/root:/bin/bash`

0: userid

0: groupid

/root: root 用户对应的 home 路径

用户密码在 /etc/shadow

`root:$1$yPbHdnsL$ySjhrMImZVzDcTdAvd4m21:18045:0:99999:7:::`

root: 用户名

$1$yPbHdnsL$ySjhrMImZVzDcTdAvd4m21 ：md5 加密的密码

### 用户组

每个用户都属于某个用户组

存放在 /etc/group

`root:x:0:`

root: 组名称

0：组id

### 用户管理

添加用户是 `useradd 用户名`

修改用户是 `usermod`

删除用户是 `userdel`

查看当前用户就是 `whoami`

### 用户组管理

添加 `groupadd`

修改 `groupmod`

删除 `groupdel`

## 权限管理

### 字符表示

- r 读权限（read）
- w 写权限（write）
- x 执行权限（execute）

Linux 文件和目录的权限解读描述

1：文件类型（d/-）

2-4：所属用户权限 u (user)

5-7：所属组权限 g (group)

8-10：其他用户权限 o (others)

2-10：标识所有的权限 a (all)

### 数字表示

| Permission | Digit |
| :--------: | :---: |
|     r      |   4   |
|     w      |   2   |
|     x      |   1   |
|     -      |   0   |

d rwxr-xr- 的权限就是754

## 软件安装

### rpm 使用

`rmp -ivh xxx.rmp`

常用参数：

- i：安装应用程序
- e：卸载
- vh：显示安装进度信息
- U：升级
- qa：显示所有已安装软件包

### yum

能够从指定的服务器自动下载 rpm 包并且安装，可以**自动处理依赖性关系**